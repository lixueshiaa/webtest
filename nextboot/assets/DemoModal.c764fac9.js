var E=Object.defineProperty;var D=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var f=(e,u,t)=>u in e?E(e,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[u]=t,F=(e,u)=>{for(var t in u||(u={}))b.call(u,t)&&f(e,t,u[t]);if(D)for(var t of D(u))x.call(u,t)&&f(e,t,u[t]);return e};var m=(e,u,t)=>new Promise((i,c)=>{var d=o=>{try{n(t.next(o))}catch(r){c(r)}},p=o=>{try{n(t.throw(o))}catch(r){c(r)}},n=o=>o.done?i(o.value):Promise.resolve(o.value).then(d,p);n((t=t.apply(e,u)).next())});import{B as I}from"./index.7ab28a2b.js";import{B as P}from"./BasicForm.3d2570da.js";import{r as y}from"./componentMap.b6eed178.js";import{u as w}from"./useForm.871d18c5.js";import"./RadioButtonGroup.c6ce22c0.js";import{a0 as s,bR as M,a as A,z as j,bg as _,j as l,f as T,o as k,k as C,G as v,p as Y,ad as R}from"./index.397c0bf9.js";import"./JDictSelectTag.67e5d4c9.js";import"./JUpload.9a731a32.js";const $=[{title:"\u59D3\u540D",dataIndex:"name",width:70,align:"left"},{title:"\u5173\u952E\u8BCD",dataIndex:"keyWord",width:30},{title:"\u6253\u5361\u65F6\u95F4",dataIndex:"punchTime",width:40},{title:"\u5DE5\u8D44",dataIndex:"salaryMoney",width:40},{title:"\u5956\u91D1",dataIndex:"bonusMoney",width:40},{title:"\u6027\u522B",dataIndex:"sex",customRender:({record:e})=>y.renderDict(e.sex,"sex"),width:20},{title:"\u751F\u65E5",dataIndex:"birthday",width:20},{title:"\u90AE\u7BB1",dataIndex:"email",width:20},{title:"\u4E2A\u4EBA\u7B80\u4ECB",dataIndex:"content",width:20}],K=[{field:"name",label:"\u59D3\u540D",component:"Input",colProps:{span:8}},{field:"birthday",label:"\u751F\u65E5",component:"RangePicker",colProps:{span:8}},{field:"age",label:"\u5E74\u9F84",component:"Input",slot:"age",colProps:{span:8}},{field:"sex",label:"\u6027\u522B",colProps:{span:8},component:"JDictSelectTag",componentProps:{dictCode:"sex",placeholder:"\u8BF7\u9009\u62E9\u6027\u522B"}}],S=[{field:"id",label:"id",component:"Input",show:!1},{field:"name",label:"\u540D\u5B57",component:"Input",required:!0,componentProps:{placeholder:"\u8BF7\u8F93\u5165\u540D\u5B57"}},{field:"keyWord",label:"\u5173\u952E\u8BCD",component:"Input",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD"}},{field:"punchTime",label:"\u6253\u5361\u65F6\u95F4",component:"DatePicker",componentProps:{showTime:!0,valueFormat:"YYYY-MM-DD HH:mm:ss",placeholder:"\u8BF7\u9009\u62E9\u6253\u5361\u65F6\u95F4"}},{field:"salaryMoney",label:"\u5DE5\u8D44",component:"Input",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u5DE5\u8D44"}},{field:"sex",label:"\u6027\u522B",component:"JDictSelectTag",defaultValue:"1",componentProps:{type:"radio",dictCode:"sex",placeholder:"\u8BF7\u9009\u62E9\u6027\u522B"}},{field:"age",label:"\u5E74\u9F84",component:"InputNumber",defaultValue:1,componentProps:{placeholder:"\u8BF7\u8F93\u5165\u5E74\u9F84"}},{field:"birthday",label:"\u751F\u65E5",component:"DatePicker",componentProps:{showTime:!0,valueFormat:"YYYY-MM-DD",placeholder:"\u8BF7\u9009\u62E9\u751F\u65E5"}},{field:"email",label:"\u90AE\u7BB1",component:"Input",rules:[{required:!1,type:"email",message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E",trigger:"blur"}],componentProps:{placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1"}},{field:"content",label:"\u4E2A\u4EBA\u7B80\u4ECB",component:"InputTextArea",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u4E2A\u4EBA\u7B80\u4ECB"}}],Q="/test/jeecgDemo/exportXls",Z="/test/jeecgDemo/importExcel",ee=e=>s.get({url:"/test/jeecgDemo/list",params:e}),U=(e,u)=>{let t=u?"/test/jeecgDemo/edit":"/test/jeecgDemo/add";return s.post({url:t,params:e})},O=e=>s.get({url:"/test/jeecgDemo/queryById",params:e}),te=(e,u)=>s.delete({url:"/test/jeecgDemo/delete",data:e},{joinParamsToUrl:!0}).then(()=>{u()}),ue=(e,u)=>{M.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u662F\u5426\u5220\u9664\u9009\u4E2D\u6570\u636E",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:()=>s.delete({url:"/test/jeecgDemo/deleteBatch",data:e},{joinParamsToUrl:!0}).then(()=>{u()})})},L=A({__name:"DemoModal",emits:["register","success"],setup(e,{emit:u}){const t=j(!0),[i,{resetFields:c,setFieldsValue:d,validate:p}]=w({labelWidth:150,schemas:S,showActionButtonGroup:!1}),[n,{setModalProps:o,closeModal:r}]=_(a=>m(this,null,function*(){yield c(),o({confirmLoading:!1}),t.value=!!(a!=null&&a.isUpdate),l(t)&&(a.record=yield O({id:a.record.id}),yield d(F({},a.record)))})),h=T(()=>l(t)?"\u7F16\u8F91\u79DF\u6237":"\u65B0\u589E\u79DF\u6237");function g(a){return m(this,null,function*(){try{let B=yield p();o({confirmLoading:!0}),yield U(B,t.value),r(),u("success")}finally{o({confirmLoading:!1})}})}return(a,B)=>(k(),C(l(I),R(a.$attrs,{onRegister:l(n),title:l(h),onOk:g,width:"40%"}),{default:v(()=>[Y(l(P),{onRegister:l(i)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});var oe=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));export{oe as D,L as _,Z as a,Q as b,$ as c,te as d,ue as e,ee as g,K as s};
