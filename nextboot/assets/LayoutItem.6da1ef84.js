var w=Object.defineProperty,L=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var v=(e,o,t)=>o in e?w(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,C=(e,o)=>{for(var t in o||(o={}))R.call(o,t)&&v(e,t,o[t]);if(f)for(var t of f(o))V.call(o,t)&&v(e,t,o[t]);return e},$=(e,o)=>L(e,O(o));import{a1 as A,a as B,R as D,O as H,B as z,f as d,bf as U,U as m,o as n,k as u,G as s,i as k,p as i,N as j,a9 as q,ad as b,r as G,bJ as M,ab as E,ac as J}from"./index.0c676cb0.js";import{d as T}from"./vuedraggable.umd.d83f2793.js";import _ from"./FormNode.0477ecb3.js";import K from"./FormNodeOperate.7ebe1452.js";import{u as Q}from"./useFormDesignState.b842bbb2.js";import"./index.e969fa19.js";import"./formItemConfig.76a6b010.js";import"./componentMap.801737ea.js";import"./index.95c15ee4.js";import"./useFormItem.47fc2179.js";import"./RadioButtonGroup.dc9fedf3.js";import"./index.7aa87f83.js";import"./BasicModal.6a1e781a.js";import"./useWindowSizeFn.f69fad46.js";import"./download.2d6dcb07.js";import"./base64Conver.bb012c73.js";import"./index.b5b26116.js";import"./index.32a34a9d.js";import"./useCountdown.df5930af.js";import"./api.6d7ba78d.js";import"./props.acb18fde.js";import"./JDictSelectTag.b196d7c6.js";import"./Tree.vue_vue_type_style_index_0_lang.9a87433c.js";import"./useContextMenu.8ed3a346.js";import"./index.008cf2db.js";import"./onMountedOrActivated.29514295.js";import"./index.a5c5d78d.js";import"./htmlmixed.604e57c2.js";import"./vue.1c47a5ee.js";import"./depart.api.904c0734.js";import"./JUpload.2c84d159.js";import"./functional.51da07bc.js";import"./index.ea661fe9.js";import"./EditOutlined.7e0ce9a3.js";import"./index.788229a3.js";import"./index.cf979df1.js";const W=B({name:"LayoutItem",components:{FormNode:_,FormNodeOperate:K,draggable:T,Row:D,Col:H},props:{schema:{type:Object,required:!0},currentItem:{type:Object,required:!0}},emits:["dragStart","handleColAdd","handle-copy","handle-delete"],setup(e){const{formDesignMethods:{handleSetSelectItem:o},formConfig:t}=Q(),c=z({}),g=d(()=>{const{colProps:l={}}=e.schema;return l}),h=d(()=>e.schema.columns),p=d(()=>t.value.layout==="horizontal"?"Col":"div");return $(C({},U(c)),{colPropsComputed:g,handleSetSelectItem:o,layoutTag:p,list1:h})}});function X(e,o,t,c,g,h){const p=m("LayoutItem",!0),l=m("draggable"),y=m("Col"),I=m("Row"),S=m("FormNodeOperate"),F=m("FormNode");return n(),u(y,E(J(e.colPropsComputed)),{default:s(()=>[["Grid"].includes(e.schema.component)?(n(),k("div",{key:0,class:G(["grid-box",{active:e.schema.key===e.currentItem.key}]),onClick:o[2]||(o[2]=M(r=>e.handleSetSelectItem(e.schema),["stop"]))},[i(I,b({class:"grid-row"},e.schema.componentProps),{default:s(()=>[(n(!0),k(j,null,q(e.schema.columns,(r,N)=>(n(),u(y,{class:"grid-col",key:N,span:r.span},{default:s(()=>[i(l,b({class:"list-main draggable-box","component-data":{name:"list",tag:"div",type:"transition-group"}},{group:"form-draggable",ghostClass:"moving",animation:180,handle:".drag-move"},{"item-key":"key",modelValue:r.children,"onUpdate:modelValue":a=>r.children=a,onStart:a=>e.$emit("dragStart",a,r.children),onAdd:a=>e.$emit("handleColAdd",a,r.children)}),{item:s(({element:a})=>[i(p,{class:"drag-move",schema:a,"current-item":e.currentItem,onHandleCopy:o[0]||(o[0]=P=>e.$emit("handle-copy")),onHandleDelete:o[1]||(o[1]=P=>e.$emit("handle-delete"))},null,8,["schema","current-item"])]),_:2},1040,["modelValue","onUpdate:modelValue","onStart","onAdd"])]),_:2},1032,["span"]))),128))]),_:1},16),i(S,{schema:e.schema,currentItem:e.currentItem},null,8,["schema","currentItem"])],2)):(n(),u(F,{key:e.schema.key,schema:e.schema,"current-item":e.currentItem,onHandleCopy:o[3]||(o[3]=r=>e.$emit("handle-copy")),onHandleDelete:o[4]||(o[4]=r=>e.$emit("handle-delete"))},null,8,["schema","current-item"]))]),_:1},16)}var Be=A(W,[["render",X]]);export{Be as default};
