var J=Object.defineProperty,x=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var _=(e,o,t)=>o in e?J(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,f=(e,o)=>{for(var t in o||(o={}))g.call(o,t)&&_(e,t,o[t]);if(p)for(var t of p(o))k.call(o,t)&&_(e,t,o[t]);return e},m=(e,o)=>x(e,F(o));import{C as w,M as A}from"./index.65b1d518.js";import{a1 as B,a as D,B as M,ez as $,bf as N,U as v,o as R,i as j,n as C,p as d,G as E,j as O,J as b,T as P}from"./index.9eb451d3.js";import"./useWindowSizeFn.ed181042.js";import"./htmlmixed.95cdf531.js";const S=D({name:"PreviewCode",components:{CodeEditor:w},props:{fileFormat:{type:String,default:"json"},editorJson:{type:String,default:""}},setup(e){const o=M({visible:!1}),t=(s,y=`file.${e.fileFormat}`)=>{let l="data:text/csv;charset=utf-8,";l+=s;const h=encodeURI(l),r=document.createElement("a");r.setAttribute("href",h),r.setAttribute("download",y),r.click()},i=()=>{t(e.editorJson)},{clipboardRef:c,copiedRef:u}=$(),{createMessage:a}=P(),n=()=>{const s=e.editorJson;if(!s){a.warning("\u4EE3\u7801\u4E3A\u7A7A\uFF01");return}c.value=s,O(u)&&a.warning("\u590D\u5236\u6210\u529F\uFF01")};return m(f({},N(o)),{exportData:t,handleCopyJson:n,handleExportJson:i,MODE:A})}}),T={class:"v-json-box"},U={class:"copy-btn-box"},V=b(" \u590D\u5236\u6570\u636E "),I=b("\u5BFC\u51FA\u4EE3\u7801");function z(e,o,t,i,c,u){const a=v("CodeEditor"),n=v("a-button");return R(),j("div",null,[C("div",T,[d(a,{value:e.editorJson,ref:"myEditor",mode:e.MODE.JSON},null,8,["value","mode"])]),C("div",U,[d(n,{onClick:e.handleCopyJson,type:"primary",class:"copy-btn","data-clipboard-action":"copy","data-clipboard-text":e.editorJson},{default:E(()=>[V]),_:1},8,["onClick","data-clipboard-text"]),d(n,{onClick:e.handleExportJson,type:"primary"},{default:E(()=>[I]),_:1},8,["onClick"])])])}var Q=B(S,[["render",z],["__scopeId","data-v-7784c953"]]);export{Q as default};
