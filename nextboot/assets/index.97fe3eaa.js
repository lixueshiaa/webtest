var y=Object.defineProperty,S=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var v=(t,o,e)=>o in t?y(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,p=(t,o)=>{for(var e in o||(o={}))A.call(o,e)&&v(t,e,o[e]);if(F)for(var e of F(o))C.call(o,e)&&v(t,e,o[e]);return t},f=(t,o)=>S(t,I(o));var b=(t,o,e)=>new Promise((s,a)=>{var c=u=>{try{r(e.next(u))}catch(i){a(i)}},m=u=>{try{r(e.throw(u))}catch(i){a(i)}},r=u=>u.done?s(u.value):Promise.resolve(u.value).then(c,m);r((e=e.apply(t,o)).next())});import{B as h}from"./index.7ab28a2b.js";import{B as k}from"./BasicForm.3d2570da.js";import"./componentMap.b6eed178.js";import{u as w}from"./useForm.871d18c5.js";import"./RadioButtonGroup.c6ce22c0.js";import{a0 as g,a as O,z as B,bg as M,j as n,f as T,o as j,k as x,G as R,p as V,ad as D}from"./index.397c0bf9.js";import{C as L}from"./JDictSelectTag.67e5d4c9.js";import"./JUpload.9a731a32.js";const U=[{label:"\u6FC0\u6D3B",value:"1"},{label:"\u672A\u6FC0\u6D3B",value:"0"}],H=[{label:"Link",value:"link"},{label:"Buttom",value:"buttom"},{label:"Form",value:"form"}],N=[{label:"Js",value:"js"},{label:"Action",value:"action"}],q=[{label:"\u6309\u94AE\u7F16\u7801",field:"buttonCode",component:"Input",colProps:{span:24},required:!0},{label:"\u6309\u94AE\u540D\u79F0",field:"buttonName",component:"Input",colProps:{span:24},required:!0},{label:"\u6309\u94AE\u6837\u5F0F",field:"buttonStyle",component:"Select",componentProps:{options:H},colProps:{span:24},defaultValue:"link"},{label:"\u6309\u94AE\u7C7B\u578B",field:"optType",component:"Select",colProps:{span:24},componentProps:{options:N},defaultValue:"js"},{label:"\u6392\u5E8F",field:"orderNum",component:"Input",colProps:{span:24}},{label:"\u6309\u94AE\u56FE\u6807",field:"buttonIcon",component:"Input",colProps:{span:24}},{label:"\u8868\u8FBE\u5F0F",field:"exp",component:"Input",colProps:{span:24}},{label:"\u6309\u94AE\u72B6\u6001",field:"buttonStatus",component:"JDictSelectTag",colProps:{span:24},componentProps:{type:L.RadioButton,options:U},defaultValue:"1"}],z=(t,o)=>o?g.put({url:"/onlForm/onlFormButton/edit",params:t}):g.post({url:"/onlForm/onlFormButton/add",params:t}),G=O({__name:"index",emits:["register","success"],setup(t,{emit:o}){const e=B(!0),s=B("");let a="";const[c,{resetFields:m,setFieldsValue:r,validate:u}]=w({schemas:q,showActionButtonGroup:!1}),[i,{setModalProps:d,closeModal:P}]=M(l=>b(this,null,function*(){yield m(),d({confirmLoading:!1}),e.value=!!(l!=null&&l.isUpdate),a=l==null?void 0:l.cgformHeadId,n(e)?(s.value=l.record.id,yield r(p({},l.record))):s.value=""})),E=T(()=>n(e)?"\u4FEE\u6539":"\u65B0\u589E");function _(){return b(this,null,function*(){try{let l=yield u();d({confirmLoading:!0}),yield z(f(p({},l),{id:s.value,cgformHeadId:a}),e.value),P(),o("success",{isUpdate:n(e),values:{head:f(p({},l),{id:s.value,cgformHeadId:a})}})}finally{d({confirmLoading:!1})}})}return(l,J)=>(j(),x(n(h),D(l.$attrs,{onRegister:n(i),title:n(E),onOk:_}),{default:R(()=>[V(n(k),{onRegister:n(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});var te=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{G as _,U as a,H as b,te as i,N as o};
