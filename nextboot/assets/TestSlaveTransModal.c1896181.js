var A=Object.defineProperty;var T=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var I=(t,e,n)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||(e={}))O.call(e,n)&&I(t,n,e[n]);if(T)for(var n of T(e))L.call(e,n)&&I(t,n,e[n]);return t};var F=(t,e,n)=>new Promise((s,u)=>{var m=l=>{try{d(n.next(l))}catch(c){u(c)}},p=l=>{try{d(n.throw(l))}catch(c){u(c)}},d=l=>l.done?s(l.value):Promise.resolve(l.value).then(m,p);d((n=n.apply(t,e)).next())});import{B as U}from"./index.7ab28a2b.js";import{B as V}from"./BasicForm.3d2570da.js";import"./componentMap.b6eed178.js";import{u as j}from"./useForm.871d18c5.js";import"./RadioButtonGroup.c6ce22c0.js";import{a0 as x,bR as z,a as G,z as C,j as r,bg as q,an as W,f as X,U as $,o as g,k as E,G as y,i as _,a9 as K,N as v,J as Q,t as Y,l as Z,p as ee,ad as te,n as ne,bO as ae}from"./index.397c0bf9.js";import"./JDictSelectTag.67e5d4c9.js";import"./JUpload.9a731a32.js";import{c as o}from"./render.bf5724a4.js";const Fe=[{title:"\u7528\u6237",dataIndex:"name",align:"center",customRender:function(t){return e=>o(e,{dictField:"",fieldHref:"",extendParams:{}},t)}({init:!1,show:!1})},{title:"\u5E74\u9F84",dataIndex:"age",align:"center",customRender:function(t){return e=>o(e,{dictField:"",fieldHref:"",extendParams:{}},t)}({init:!1,show:!1})},{title:"\u6027\u522B",dataIndex:"sexDict",align:"center",customRender:function(t){return e=>o(e,{dictField:"",fieldHref:"",extendParams:{}},t)}({init:!1,show:!1})},{title:"\u90E8\u95E8id",dataIndex:"departIdDict",align:"center",customRender:function(t){return e=>o(e,{dictField:"",fieldHref:"",extendParams:{}},t)}({init:!1,show:!1})},{title:"\u90E8\u95E8\u540D\u79F0",dataIndex:"departName",align:"center",customRender:function(t){return e=>o(e,{dictField:"",fieldHref:"",extendParams:{}},t)}({init:!1,show:!1})},{title:"\u90E8\u95E8code",dataIndex:"departCode",align:"center",customRender:function(t){return e=>o(e,{dictField:"",fieldHref:"",extendParams:{}},t)}({init:!1,show:!1})},{title:"\u673A\u6784\u7C7B\u578B",dataIndex:"orgCategory",align:"center",customRender:function(t){return e=>o(e,{dictField:"",fieldHref:"",extendParams:{}},t)}({init:!1,show:!1})},{title:"\u5173\u8054\u7701",dataIndex:"linkIdDict",align:"center",customRender:function(t){return e=>o(e,{dictField:"",fieldHref:"",extendParams:{}},t)}({init:!1,show:!1})},{title:"\u7701",dataIndex:"province",align:"center",customRender:function(t){return e=>o(e,{dictField:"",fieldHref:"",extendParams:{}},t)}({init:!1,show:!1})},{title:"\u5E02",dataIndex:"city",align:"center",customRender:function(t){return e=>o(e,{dictField:"",fieldHref:"",extendParams:{}},t)}({init:!1,show:!1})},{title:"\u533A",dataIndex:"area",align:"center",customRender:function(t){return e=>o(e,{dictField:"",fieldHref:"",extendParams:{}},t)}({init:!1,show:!1})},{title:"\u6237\u578B",dataIndex:"housesCountDict",align:"center",customRender:function(t){return e=>o(e,{dictField:"",fieldHref:"",extendParams:{}},t)}({init:!1,show:!1})}],ye=[{label:"\u7528\u6237",field:"name",component:"JInput",colProps:{span:6}},{label:"\u5E74\u9F84",field:"age",component:"InputNumber",colProps:{span:6}},{label:"\u6027\u522B",field:"sex",component:"JDictSelectTag",componentProps:{type:"list",dictCode:"sex"},colProps:{span:6}},{label:"\u673A\u6784\u7C7B\u578B",field:"orgCategory",component:"JDictSelectTag",componentProps:{type:"list",dictCode:"sys_depart,org_category,id"},colProps:{span:6}}],re=[{label:"\u7528\u6237",field:"name",component:"Input"},{label:"\u5E74\u9F84",field:"age",component:"InputNumber"},{label:"\u6027\u522B",field:"sex",component:"JDictSelectTag",componentProps:{type:"list",dictCode:"sex"}},{label:"\u90E8\u95E8id",field:"departId",component:"JSelectDept",componentProps:{}},{label:"\u90E8\u95E8\u540D\u79F0",field:"departName",component:"Input"},{label:"\u90E8\u95E8code",field:"departCode",component:"Input"},{label:"\u673A\u6784\u7C7B\u578B",field:"orgCategory",component:"JDictSelectTag",componentProps:{type:"list",dictCode:"sys_depart,org_category,id"}},{label:"\u6237\u578B",field:"housesCount",component:"JDictSelectTag",componentProps:{type:"list",dictCode:"housesCount"}},{label:"\u5173\u8054\u7701",field:"linkId",component:"JDictSelectTag",componentProps:{type:"list",dictCode:"provice_test,quyu,id"}}],Be="/testSlaveTrans/exportXls",Pe="/testSlaveTrans/importExcel",Te=t=>x.get({url:"/testSlaveTrans/list",params:t}),Ie=(t,e)=>x.delete({url:"/testSlaveTrans/delete",params:t},{joinParamsToUrl:!0}).then(()=>{e()}),Se=(t,e)=>{z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u662F\u5426\u5220\u9664\u9009\u4E2D\u6570\u636E",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:()=>x.delete({url:"/testSlaveTrans/deleteBatch",data:t},{joinParamsToUrl:!0}).then(()=>{e()})})},oe=(t,e)=>{let n=e?"/testSlaveTrans/edit":"/testSlaveTrans/add";return x.post({url:n,params:t})},se=ne("span",null,null,-1),le=G({__name:"TestSlaveTransModal",emits:["register","success"],setup(t,{emit:e}){const n={},s=C("");let u="",m={};const p=C([{label:"\u53D6\u6D88",methods:"cancel",ifShow:()=>r(s)!=="detail"},{label:"\u786E\u8BA4",methods:"handleSubmit",type:"primary",ifShow:()=>r(s)!=="detail"}]),[d,l]=j({labelWidth:150,schemas:re,showActionButtonGroup:!1}),{setProps:c,resetFields:D,setFieldsValue:w,validate:B,getFieldsValue:R}=l,[k,{setModalProps:h,closeModal:P}]=q(a=>F(this,null,function*(){s.value=a.action,u=a.title,m=a.record,yield D(),h({confirmLoading:!1}),r(s)!=="add"&&W(()=>{w(S({},a.record)),setTimeout(()=>{B()},0)}),c({disabled:r(s)==="detail"})})),H=X(()=>r(s)==="detail"?"\u8BE6\u60C5":r(s)==="editor"?"\u7F16\u8F91":r(s)==="add"?"\u65B0\u589E":u);function M(){return p.value.map(a=>{const f=a.methods;return a.onClick=()=>{b[f]&&b[f]()},a})}function J(a){return typeof a=="function"?a():a}const b={handleSubmit:function(){return F(this,null,function*(){try{const a=yield B(),f=R();h({confirmLoading:!0}),yield oe(ae(m,f,a),r(s)==="editor"),P(),e("success")}finally{h({confirmLoading:!1})}})},cancel:function(){P()}};return n["./testSlaveTransMixin.ts"]&&n["./testSlaveTransMixin.ts"].default({methods:b,footerBtnList:p,formMethods:l}),(a,f)=>{const N=$("a-button");return g(),E(r(U),te(a.$attrs,{onRegister:r(k),title:r(H),onOk:a.handleSubmit}),{footer:y(()=>[se,(g(!0),_(v,null,K(M(),(i,ie)=>(g(),_(v,null,[J(i.ifShow)?(g(),E(N,{key:0,type:i.type,preIcon:i.preIcon,disabled:i.disabled===!0,onClick:i.onClick},{default:y(()=>[Q(Y(i.label),1)]),_:2},1032,["type","preIcon","disabled","onClick"])):Z("",!0)],64))),256))]),default:y(()=>[ee(r(V),{onRegister:r(d)},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}}});var Ce=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"}));export{Ce as T,le as _,Pe as a,Se as b,Fe as c,Ie as d,Be as g,Te as l,ye as s};
