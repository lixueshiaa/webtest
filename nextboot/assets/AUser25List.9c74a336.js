var ie=Object.defineProperty,ae=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var R=(l,i,o)=>i in l?ie(l,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[i]=o,U=(l,i)=>{for(var o in i||(i={}))re.call(i,o)&&R(l,o,i[o]);if(H)for(var o of H(i))le.call(i,o)&&R(l,o,i[o]);return l},Y=(l,i)=>ae(l,se(i));var E=(l,i,o)=>new Promise((S,b)=>{var x=h=>{try{D(o.next(h))}catch(_){b(_)}},a=h=>{try{D(o.throw(h))}catch(_){b(_)}},D=h=>h.done?S(h.value):Promise.resolve(h.value).then(x,a);D((o=o.apply(l,i)).next())});import{B as ue}from"./BasicTable.5bdcd073.js";import{T as ce}from"./componentMap.bdddb878.js";import"./TableImg.ceb3addb.js";import"./index.f8f2ddf0.js";import{u as de}from"./useListPage.8a0ab0f8.js";import{l as me,c as pe,s as j,g as he,a as fe,_ as _e,d as be,b as ge}from"./AUser25Modal.990a5047.js";import{a as O,z as I,bw as we,bj as De,j as m,bO as L,U as g,o as p,i as w,p as f,G as c,N as k,a9 as Ce,k as B,J as y,t as X,l as T,n as ye,bR as Se,by as z,bo as xe,Q as A}from"./index.6cf4d174.js";import{d as Fe}from"./download.61ffebe5.js";import"./BasicForm.74bae903.js";import"./FormItem.vue_vue_type_script_lang.0f2a80c5.js";import"./BasicModal.45214da2.js";import"./useWindowSizeFn.99e468e7.js";import"./useForm.0a8b633b.js";import"./RadioButtonGroup.e396598a.js";import"./useFormItem.ed1b0f05.js";import"./JDictSelectTag.77cd1e49.js";import"./JUpload.a8971a82.js";import"./api.4a4df057.js";import"./functional.4d9308b0.js";import"./index.28df25ce.js";import"./onMountedOrActivated.c1705977.js";import"./useContentViewHeight.183e9878.js";import"./FormOutlined.478bac7f.js";import"./useSortable.746d5656.js";import"./index.e9415cf9.js";import"./index.260e697f.js";import"./index.10fcd82b.js";import"./useCountdown.5a1a5b16.js";import"./props.932becef.js";import"./Tree.vue_vue_type_style_index_0_lang.dd81644b.js";import"./useContextMenu.988cb2d7.js";import"./index.d3e30781.js";import"./index.f170d56c.js";import"./htmlmixed.9b0e93d2.js";import"./vue.94c7f829.js";import"./depart.api.cb5ba1c2.js";import"./index.410f2d77.js";import"./EditOutlined.ebbc06a3.js";import"./useTable.5c9bbf6b.js";import"./render.e804ff54.js";import"./index.e3d374a0.js";import"./JUploadModal.7cbabefd.js";import"./base64Conver.bb012c73.js";const ke=y(" \u5220\u9664 "),Be=y("\u6279\u91CF\u64CD\u4F5C "),Me=["innerHTML"],Ee={key:0,style:{"font-size":"12px","font-style":"italic"}},Ie=y("\u4E0B\u8F7D"),Te=O({name:"aUser25-aUser25"}),St=O(Y(U({},Te),{setup(l){const i={},o=["shijian","dataT","startDate","endDate","shuzi","minNumber","maxNumber","quyu"],S=I([{label:"\u65B0\u589E",methods:"handleAdd",preIcon:"ant-design:plus-outlined"},{label:"\u5BFC\u51FA",methods:"onExportXls",preIcon:"ant-design:export-outlined"},{label:"\u5BFC\u5165",methods:"onImportXls",preIcon:"ant-design:import-outlined",btnType:"import"}]),b=I([{label:"\u7F16\u8F91",methods:"handleEdit",ifShowMethod:"ifShowHandleEdit"},{label:"\u5F53\u524D\u6D41\u7A0B",methods:"handleShowFlow"}]),x=I([{label:"\u8BE6\u60C5",methods:"handleDetail"},{label:"\u5220\u9664",popConfirm:{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664",methods:"handleDelete"}}]),a={handleAdd:function(){_(!0,{action:"add"})},ifShowHandleEdit:function(e){return e.cityDict==="\u6DF1\u5733\u5E02"},handleShowFlow:function(e){Se.info({title:"\u5F53\u524D\u6D41\u7A0B",width:"80%",icon:()=>z("span"),closable:!0,content:()=>z("iframe",{src:"https://blog.csdn.net/weixin_42386504/article/details/116914080",width:"100%",height:"600px"})})},handleEdit:function(e){_(!0,{record:e,action:"editor"})},handleDetail:function(e){_(!0,{record:e,action:"detail"})},handleDelete:function(e){return E(this,null,function*(){yield be({id:e.id},F)})}},{currentRoute:D}=we(),[h,{openModal:_}]=De(),{prefixCls:Ae,tableContext:V,onExportXls:q,onImportXls:P}=de({tableProps:{title:"\u6D4B\u8BD5\u5927\u8868",api:me,columns:pe,canResize:!0,beforeFetch:e=>{const d=J(),n=m(D).query||{},s=d.getFieldsValue(),u=L(n,s,e);return Object.assign(e,u),Object.keys(e).map(r=>{for(let C=0;C<o.length;C++)e[o[C]]=void 0;(e[r]===""||e[r]===null)&&(e[r]=void 0)}),e},useSearchForm:!!j.length,formConfig:{labelWidth:120,schemas:j,autoSubmitOnEnter:!0,showAdvancedButton:!0,fieldMapToNumber:[["minNumber",["minNumber_begin","minNumber_end"]],["maxNumber",["maxNumber_begin","maxNumber_end"]]],fieldMapToTime:[["startDate",["startDate_begin","startDate_end"],"YYYY-MM-DD HH:mm:ss"],["endDate",["endDate_begin","endDate_end"],"YYYY-MM-DD HH:mm:ss"]]},actionColumn:{width:b.value.length*100}},exportConfig:{name:"\u6D4B\u8BD5\u5927\u8868",url:he},importConfig:{url:fe,success:F}});a.onExportXls=q,a.onImportXls=P;const[$,N,v]=V,{reload:G,getForm:J}=N,{rowSelection:K,selectedRowKeys:M}=v;function Q(e){e&&e.split(",").map(n=>{Fe({url:xe(n)})})}function W(){return E(this,null,function*(){yield ge({ids:M.value},F)})}function F(){(M.value=[])&&G()}function Z(){return m(S).map(e=>{const d=A(e),n=d.methods;return d.onClick=()=>{a[n]&&a[n]()},d})}function ee(e){return m(b).map(n=>{const s=A(n),u=s.methods,r=s.ifShowMethod;return s.onClick=a[u].bind(null,e),s.ifShow=r&&a[r]?a[r](e):!0,s})}function te(e){return m(x).map(d=>{const n=A(d),s=n.methods,u=L({},n.popConfirm||{}),r=n.ifShowMethod;return n.ifShow=r&&a[r]?a[r](e):!0,u.methods?(u.confirm=a[u.methods]&&a[u.methods].bind(null,e),n.popConfirm=u):s&&(n.onClick=a[s]&&a[s].bind(null,e)),n})}return i["./aUser25Mixin.ts"]&&i["./aUser25Mixin.ts"].default({methods:a,actionBtns:b,dropDownActionBtns:x,titleBtns:S,tableMethods:N,selections:v}),(e,d)=>{const n=g("j-upload-button"),s=g("a-button"),u=g("Icon"),r=g("a-menu-item"),C=g("a-menu"),oe=g("a-dropdown");return p(),w("div",null,[f(m(ue),{onRegister:m($),rowSelection:m(K)},{tableTitle:c(()=>[(p(!0),w(k,null,Ce(Z(),(t,ne)=>(p(),w(k,null,[t.btnType==="import"?(p(),w(k,{key:0},[t.ifShow!==!1?(p(),B(n,{key:0,type:"primary",disabled:t.disabled===!0,preIcon:t.preIcon,onClick:t.onClick},{default:c(()=>[y(X(t.label),1)]),_:2},1032,["disabled","preIcon","onClick"])):T("",!0)],64)):(p(),w(k,{key:1},[t.ifShow!==!1?(p(),B(s,{key:0,type:"primary",disabled:t.disabled===!0,preIcon:t.preIcon,onClick:t.onClick},{default:c(()=>[y(X(t.label),1)]),_:2},1032,["disabled","preIcon","onClick"])):T("",!0)],64))],64))),256)),m(M).length>0?(p(),B(oe,{key:0},{overlay:c(()=>[f(C,null,{default:c(()=>[f(r,{key:"1",onClick:W},{default:c(()=>[f(u,{icon:"ant-design:delete-outlined"}),ke]),_:1})]),_:1})]),default:c(()=>[f(s,null,{default:c(()=>[Be,f(u,{icon:"mdi:chevron-down"})]),_:1})]),_:1})):T("",!0)]),action:c(({record:t})=>[f(m(ce),{actions:ee(t),dropDownActions:te(t)},null,8,["actions","dropDownActions"])]),htmlSlot:c(({text:t})=>[ye("div",{innerHTML:t},null,8,Me)]),fileSlot:c(({text:t})=>[t?(p(),B(s,{key:1,ghost:!0,type:"primary",preIcon:"ant-design:download-outlined",size:"small",onClick:ne=>Q(t)},{default:c(()=>[Ie]),_:2},1032,["onClick"])):(p(),w("span",Ee,"\u65E0\u6587\u4EF6"))]),_:1},8,["onRegister","rowSelection"]),f(_e,{onRegister:m(h),onSuccess:F},null,8,["onRegister"])])}}}));export{St as default};
