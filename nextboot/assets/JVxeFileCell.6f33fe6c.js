import{a1 as D,a as v,ap as w,U as a,o as t,i as m,N as E,a9 as A,k as i,G as n,p as o,n as u,t as _,l as p,D as V,E as B,J as d,ad as N}from"./index.6cf4d174.js";import{U}from"./JUpload.a8971a82.js";import"./JUploadModal.7cbabefd.js";import{c as J,u as M,e as b}from"./useFileCell.e09746ed.js";import"./api.4a4df057.js";import"./functional.4d9308b0.js";import"./index.f8f2ddf0.js";import"./BasicModal.45214da2.js";import"./useWindowSizeFn.99e468e7.js";const $=v({name:"JVxeFileCell",components:J,props:w(),setup(e){return M(e,U.file)},enhanced:b}),L=u("span",{style:{"margin-left":"5px"}},"\u4E0A\u4F20\u4E2D\u2026",-1),R={style:{"margin-left":"5px"}},I={style:{"margin-left":"5px"}},O=d("\xA0\u4E0B\u8F7D"),P=d("\xA0\u5220\u9664"),T=d("\xA0\u66F4\u591A");function S(e,G,H,j,q,z){const g=a("LoadingOutlined"),r=a("a-tooltip"),l=a("Icon"),c=a("a-menu-item"),h=a("a-menu"),C=a("Dropdown"),f=a("a-button"),k=a("a-upload"),F=a("JUploadModal");return t(),m("div",null,[e.hasFile?(t(!0),m(E,{key:0},A([e.innerFile||{}],(s,y)=>(t(),m("div",{key:y,style:{position:"relative"}},[s.status==="uploading"?(t(),i(r,{key:0,title:`\u4E0A\u4F20\u4E2D(${Math.floor(s.percent)}%)`},{default:n(()=>[o(g),L]),_:2},1032,["title"])):s.status==="done"?(t(),i(r,{key:1,title:s.name},{default:n(()=>[o(l,{icon:"ant-design:paper-clip"}),u("span",R,_(e.ellipsisFileName),1)]),_:2},1032,["title"])):(t(),i(r,{key:2,title:s.message||"\u4E0A\u4F20\u5931\u8D25"},{default:n(()=>[o(l,{icon:"ant-design:exclamation-circle",style:{color:"red"}}),u("span",I,_(e.ellipsisFileName),1)]),_:2},1032,["title"])),o(C,{trigger:["click"],placement:"bottomRight",style:{"margin-left":"10px"}},{overlay:n(()=>[o(h,null,{default:n(()=>[e.originColumn.allowDownload!==!1?(t(),i(c,{key:0,onClick:e.handleClickDownloadFile},{default:n(()=>[u("span",null,[o(l,{icon:"ant-design:download"}),O])]),_:1},8,["onClick"])):p("",!0),e.originColumn.allowRemove!==!1?(t(),i(c,{key:1,onClick:e.handleClickDeleteFile},{default:n(()=>[u("span",null,[o(l,{icon:"ant-design:delete"}),P])]),_:1},8,["onClick"])):p("",!0),o(c,{onClick:e.handleMoreOperation},{default:n(()=>[u("span",null,[o(l,{icon:"ant-design:bars"}),T])]),_:1},8,["onClick"])]),_:1})]),default:n(()=>[o(r,{title:"\u64CD\u4F5C"},{default:n(()=>[s.status!=="uploading"?(t(),i(l,{key:0,icon:"ant-design:setting",style:{cursor:"pointer"}})):p("",!0)]),_:2},1024)]),_:2},1024)]))),128)):p("",!0),V(o(k,N({name:"file",data:{isup:1},multiple:!1,action:e.uploadAction,headers:e.uploadHeaders,showUploadList:!1},e.cellProps,{onChange:e.handleChangeUpload}),{default:n(()=>[o(f,{preIcon:"ant-design:upload"},{default:n(()=>[d(_(e.originColumn.btnText||"\u70B9\u51FB\u4E0A\u4F20"),1)]),_:1})]),_:1},16,["action","headers","onChange"]),[[B,!e.hasFile]]),o(F,{value:e.modalValue,onRegister:e.registerModel,onChange:e.onModalChange},null,8,["value","onRegister","onChange"])])}var ne=D($,[["render",S]]);export{ne as default};
