var w=Object.defineProperty;var i=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var g=(t,o,e)=>o in t?w(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,b=(t,o)=>{for(var e in o||(o={}))y.call(o,e)&&g(t,e,o[e]);if(i)for(var e of i(o))E.call(o,e)&&g(t,e,o[e]);return t};import{a as I,fu as R,a6 as v,fv as j,z as m,an as C,X as D,U,o as V,k as $,a8 as z,a9 as A,G as B,aa as J,ab as L,ac as G,j as p,ad as O}from"./index.0c676cb0.js";const H=I({__name:"NextEditorTable",props:b({value:{type:Array,default:()=>[]}},Object.assign(R(),{dataSource:void 0,toolbar:v.bool.def(!0),rowSelection:v.bool.def(!0),toolbarConfig:v.object.def(()=>({slots:["prefix","suffix"],btn:["add","save","remove","clearSelection"]}))})),emits:["update:value","dragged","removed","added","inserted","save","valueChange"],setup(t,{expose:o,emit:e}){const c=t,x=j(),l=m(),n=m([]);n.value=c.value;function k(a){const{oldIndex:s,newIndex:u}=a,r=n.value.splice(s,1)[0];n.value.splice(u,0,r),e("update:value",p(n)),e("dragged",a)}function d(){C(()=>{n.value=l.value.getTableData(),e("update:value",p(n))})}function S(a){d(),e("save",a)}function _(a){e("inserted",a)}function T(a){e("added",a)}function h(a){e("valueChange",a)}function N(a){d(),e("removed",a)}return C(()=>{l.value.$el.addEventListener("blur",s=>{var r;(s.target?(r=s.target)==null?void 0:r.tagName.toUpperCase():"")==="INPUT"&&d()},!0)}),D(()=>c.value,()=>{n.value=c.value},{deep:!0}),o({syncData:d,nextEditorTableRef:l}),(a,s)=>{const u=U("JVxeTable");return V(),$(u,O({ref_key:"nextEditorTableRef",ref:l},a.$props,{dataSource:n.value,onSave:S,onAdded:T,onInserted:_,onDragged:k,onValueChange:h,onRemoved:N}),z({_:2},[A(p(x),(r,f,X)=>({name:f,fn:B(P=>[J(a.$slots,f,L(G(P)))])}))]),1040,["dataSource"])}}});export{H as _};
