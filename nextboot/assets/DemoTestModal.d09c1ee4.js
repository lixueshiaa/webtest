var V=Object.defineProperty;var k=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var y=(o,e,t)=>e in o?V(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,M=(o,e)=>{for(var t in e||(e={}))j.call(e,t)&&y(o,t,e[t]);if(k)for(var t of k(e))N.call(e,t)&&y(o,t,e[t]);return o};var _=(o,e,t)=>new Promise((a,i)=>{var m=n=>{try{u(t.next(n))}catch(d){i(d)}},p=n=>{try{u(t.throw(n))}catch(d){i(d)}},u=n=>n.done?a(n.value):Promise.resolve(n.value).then(m,p);u((t=t.apply(o,e)).next())});import{B as R}from"./index.9788db2e.js";import{B as A}from"./BasicForm.d1b5a4f4.js";import"./componentMap.6942b0b6.js";import{u as z}from"./useForm.26fd4105.js";import"./RadioButtonGroup.6d9641c3.js";import{a0 as g,bR as G,a as H,z as x,j as r,bg as J,an as W,f as X,U as $,o as f,k as F,G as B,i as D,a9 as q,N as E,J as K,t as Q,l as Y,p as Z,ad as ee,n as te,bO as oe}from"./index.9eb451d3.js";import"./JDictSelectTag.3b1f5a5e.js";import"./JUpload.38683df0.js";import{f as se}from"./DemoTest.data.f51943fb.js";const _e="/demoTest/exportXls",Be="/demoTest/importExcel",be=o=>g.get({url:"/demoTest/list",params:o}),ke=(o,e)=>g.delete({url:"/demoTest/delete",params:o},{joinParamsToUrl:!0}).then(()=>{e()}),ye=(o,e)=>{G.confirm({title:"\u786E\u8BA4\u5220\u9664",content:"\u662F\u5426\u5220\u9664\u9009\u4E2D\u6570\u636E",okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",onOk:()=>g.delete({url:"/demoTest/deleteBatch",data:o},{joinParamsToUrl:!0}).then(()=>{e()})})},re=(o,e)=>{let t=e?"/demoTest/edit":"/demoTest/add";return g.post({url:t,params:o})},ae=te("span",null,null,-1),ne=H({__name:"DemoTestModal",emits:["register","success"],setup(o,{emit:e}){const t={},a=x("");let i="",m={};const p=x([{label:"\u53D6\u6D88",methods:"cancel",ifShow:()=>r(a)!=="detail"},{label:"\u786E\u8BA4",methods:"handleSubmit",type:"primary",ifShow:()=>r(a)!=="detail"}]),[u,n]=z({labelWidth:150,schemas:se,showActionButtonGroup:!1}),{setProps:d,resetFields:v,setFieldsValue:C,validate:S,getFieldsValue:O}=n,[w,{setModalProps:h,closeModal:b}]=J(s=>_(this,null,function*(){a.value=s.action,i=s.title,m=s.record,yield v(),h({confirmLoading:!1}),r(a)!=="add"&&W(()=>{C(M({},s.record))}),d({disabled:r(a)==="detail"})})),I=X(()=>r(a)==="detail"?"\u8BE6\u60C5":r(a)==="editor"?"\u7F16\u8F91":r(a)==="add"?"\u65B0\u589E":i);function L(){return p.value.map(s=>{const c=s.methods;return s.onClick=()=>{T[c]&&T[c]()},s})}function P(s){return typeof s=="function"?s():s}const T={handleSubmit:function(){return _(this,null,function*(){try{const s=yield S(),c=O();h({confirmLoading:!0}),yield re(oe(m,c,s),r(a)==="editor"),e("success"),b()}finally{h({confirmLoading:!1})}})},cancel:function(){b()}};return t["./demoTestMixin.ts"]&&t["./demoTestMixin.ts"].default({methods:T,footerBtnList:p,formMethods:n}),(s,c)=>{const U=$("a-button");return f(),F(r(R),ee(s.$attrs,{onRegister:r(w),title:r(I),onOk:s.handleSubmit}),{footer:B(()=>[ae,(f(!0),D(E,null,q(L(),(l,le)=>(f(),D(E,null,[P(l.ifShow)?(f(),F(U,{key:0,type:l.type,preIcon:l.preIcon,disabled:l.disabled===!0,onClick:l.onClick},{default:B(()=>[K(Q(l.label),1)]),_:2},1032,["type","preIcon","disabled","onClick"])):Y("",!0)],64))),256))]),default:B(()=>[Z(r(A),{onRegister:r(u)},null,8,["onRegister"])]),_:1},16,["onRegister","title","onOk"])}}});var Me=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));export{Me as D,ne as _,Be as a,ye as b,ke as d,_e as g,be as l};
