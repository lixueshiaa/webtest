var D=Object.defineProperty;var k=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var w=(s,o,t)=>o in s?D(s,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[o]=t,C=(s,o)=>{for(var t in o||(o={}))O.call(o,t)&&w(s,t,o[t]);if(k)for(var t of k(o))P.call(o,t)&&w(s,t,o[t]);return s};var B=(s,o,t)=>new Promise((i,l)=>{var f=a=>{try{m(t.next(a))}catch(c){l(c)}},p=a=>{try{m(t.throw(a))}catch(c){l(c)}},m=a=>a.done?i(a.value):Promise.resolve(a.value).then(f,p);m((t=t.apply(s,o)).next())});import{B as A}from"./index.7aa87f83.js";import{B as G}from"./BasicForm.7ed18e1d.js";import"./componentMap.801737ea.js";import{u as U}from"./useForm.f6b94960.js";import"./RadioButtonGroup.dc9fedf3.js";import{a as j,z as F,j as e,bg as z,f as J,U as T,o as u,k as b,G as _,i as v,a9 as W,N as x,J as $,t as q,l as H,p as K,ad as Q,n as X,bO as Y}from"./index.0c676cb0.js";import"./JDictSelectTag.b196d7c6.js";import"./JUpload.2c84d159.js";import{f as Z}from"./test.data.04bf5176.js";import{s as tt}from"./test.api.b8476f6d.js";import"./BasicModal.6a1e781a.js";import"./useWindowSizeFn.f69fad46.js";import"./FormItem.vue_vue_type_script_lang.3f5bf9fa.js";import"./index.95c15ee4.js";import"./useFormItem.47fc2179.js";import"./download.2d6dcb07.js";import"./base64Conver.bb012c73.js";import"./index.b5b26116.js";import"./index.32a34a9d.js";import"./useCountdown.df5930af.js";import"./api.6d7ba78d.js";import"./props.acb18fde.js";import"./Tree.vue_vue_type_style_index_0_lang.9a87433c.js";import"./useContextMenu.8ed3a346.js";import"./index.008cf2db.js";import"./onMountedOrActivated.29514295.js";import"./index.a5c5d78d.js";import"./htmlmixed.604e57c2.js";import"./vue.1c47a5ee.js";import"./depart.api.904c0734.js";import"./index.ea661fe9.js";import"./EditOutlined.7e0ce9a3.js";import"./functional.51da07bc.js";import"./render.6feafcd2.js";import"./index.e3d374a0.js";const et=X("div",null,null,-1),Gt=j({__name:"testModal",emits:["register","success"],setup(s,{emit:o}){const t={},i=F(""),l=F([{label:"\u53D6\u6D88",methods:"cancel",ifShow:()=>e(i)!=="detail"},{label:"\u786E\u8BA4",methods:"handleSubmit",type:"primary",ifShow:()=>e(i)!=="detail"}]),[f,p]=U({labelWidth:150,schemas:Z,showActionButtonGroup:!1}),{setProps:m,resetFields:a,setFieldsValue:c,validate:L,getFieldsValue:S}=p,[V,M]=z(r=>B(this,null,function*(){i.value=r.action||"",yield a(),h({confirmLoading:!1,showCancelBtn:e(i)!=="detail",showOkBtn:e(i)!=="detail"}),e(i)!=="add"&&(yield c(C({},r.record))),m({disabled:e(i)==="detail"})})),{setModalProps:h,closeModal:y}=M,I=J(()=>{if(e(i)==="detail")return"\u8BE6\u60C5";if(e(i)==="editor")return"\u7F16\u8F91";if(e(i)==="add")return"\u65B0\u589E"});function N(){return l.value.map(r=>{const d=r.methods;return r.onClick=()=>{g[d]&&g[d]()},r})}function E(r){return typeof r=="function"?r():r}const g={handleSubmit:function(){return B(this,null,function*(){try{const r=yield L(),d=S();h({confirmLoading:!0}),yield tt(Y(d,r),e(i)==="editor"),y(),o("success")}finally{h({confirmLoading:!1})}})},cancel:function(){y()}};return t["./testModalMixin.ts"]&&t["./testModalMixin.ts"].default({methods:g,footerBtnList:l,formMethods:p,modalMethods:M}),(r,d)=>{const R=T("a-button");return u(),b(e(A),Q(r.$attrs,{onRegister:e(V),title:e(I)}),{footer:_(()=>[et,(u(!0),v(x,null,W(N(),(n,ot)=>(u(),v(x,null,[E(n.ifShow)?(u(),b(R,{key:0,type:n.type,preIcon:n.preIcon,disabled:n.disabled===!0,onClick:n.onClick},{default:_(()=>[$(q(n.label),1)]),_:2},1032,["type","preIcon","disabled","onClick"])):H("",!0)],64))),256))]),default:_(()=>[K(e(G),{onRegister:e(f)},null,8,["onRegister"])]),_:1},16,["onRegister","title"])}}});export{Gt as default};
